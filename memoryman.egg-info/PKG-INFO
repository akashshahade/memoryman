Metadata-Version: 2.1
Name: memoryman
Version: 0.1.0
Summary: A simple, powerful AI memory layer for storing and retrieving chat and model memory locally
Home-page: https://github.com/yourusername/memoryman
Author: Memory Team
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Provides-Extra: dev
Provides-Extra: vector

# AI Memory - Lightweight Memory Layer for AI Models

A simple, powerful, and easy-to-use Python module for managing multiple types of AI memory (conversations, facts, events, knowledge) locally. Perfect for chatbots, AI assistants, and any application that needs persistent memory management.

## Features

âœ… **Multiple Memory Types**
- **Short-term Memory**: Recent conversation context
- **Long-term Memory**: Persistent facts and knowledge
- **Episodic Memory**: Specific events and interactions
- **Semantic Memory**: General knowledge and relationships

âœ… **Simple API** - Easy to learn and use
âœ… **Local Storage** - SQLite backend, no external dependencies
âœ… **Type-Safe** - Clear data structures and schemas
âœ… **Search Capabilities** - Query and filter across memories
âœ… **Export** - Save memories as JSON
âœ… **Thread-Safe** - Safe for concurrent access
âœ… **Extensible** - Easy to add custom memory types or backends

## Installation

### Quick Install
```bash
pip install ai-memory
```

### From Source
```bash
git clone https://github.com/yourusername/ai-memory.git
cd ai-memory
pip install -e .
```

### Install with Development Dependencies
```bash
pip install -e ".[dev]"
```

## Quick Start

### Basic Usage

```python
from ai_memory import MemoryManager

# Initialize memory manager
memory = MemoryManager(storage_type="sqlite", db_path="./memory.db")

# Store a message in conversation memory
memory.store("short_term", {
    "role": "user",
    "content": "Hello AI, what is machine learning?"
})

# Store a fact in long-term memory
memory.store("long_term", {
    "title": "Machine Learning Definition",
    "content": "ML is a subset of AI that enables systems to learn from data",
    "category": "ai"
})

# Retrieve recent conversation
recent = memory.get_recent("short_term", limit=5)

# Search across memories
results = memory.search("machine learning")

# Close connection
memory.close()
```

## Memory Types

### 1. Short-Term Memory (Conversations)
For recent chat context and current conversation.

```python
# Store conversation messages
memory.store("short_term", {
    "role": "user",
    "content": "What's your name?",
})

# Get recent conversation (10 messages)
recent_msgs = memory.get_recent("short_term", limit=10)

# Query by role
user_messages = memory.query("short_term", role="user")

# Search messages
results = memory.query("short_term", search_query="weather")
```

### 2. Long-Term Memory (Facts & Knowledge)
For persistent facts, knowledge, and learned information.

```python
# Store a fact
memory.store("long_term", {
    "title": "Python Basics",
    "content": "Python is a high-level programming language",
    "category": "programming",
})

# Get by category
python_facts = memory.query("long_term", category="programming")

# Search facts
results = memory.query("long_term", search_query="Python")
```

### 3. Episodic Memory (Events)
For specific events, interactions, and experiences.

```python
# Store an event
memory.store("episodic", {
    "event": "User learned about neural networks",
    "duration": "5 minutes",
    "outcome": "Concept explained successfully",
})

# Get all episodes
episodes = memory.query("episodic")

# Get episodes in date range
range_episodes = memory.episodic.get_by_date_range(
    "2025-01-01T00:00:00",
    "2025-12-31T23:59:59"
)
```

### 4. Semantic Memory (Knowledge)
For general knowledge, concepts, and relationships.

```python
# Store knowledge
memory.store("semantic", {
    "title": "Neural Networks",
    "content": "Neural networks are computing systems inspired by neurons",
    "tags": ["AI", "deep learning", "neural networks"],
})

# Search by tags
results = memory.semantic.search_by_tags(["AI", "deep learning"])

# Text search
results = memory.query("semantic", search_query="neural")
```

## API Reference

### MemoryManager

#### Initialization
```python
MemoryManager(storage_type="sqlite", db_path="./ai_memory.db")
```

#### Core Methods

**store(memory_type, data, key=None) â†’ str**
```python
# Store data and get auto-generated key
key = memory.store("short_term", {"content": "Hello"})

# Store with custom key
memory.store("long_term", {"title": "Fact"}, key="fact_1")
```

**retrieve(memory_type, key) â†’ dict|None**
```python
data = memory.retrieve("short_term", "msg_1")
```

**query(memory_type, search_query=None, **filters) â†’ list**
```python
# Query with filters
results = memory.query("short_term", role="user")

# Text search
results = memory.query("long_term", search_query="Python")

# Combined
results = memory.query("episodic", search_query="learning", category="training")
```

**get_recent(memory_type, limit=10) â†’ list**
```python
# Get 5 most recent messages
recent = memory.get_recent("short_term", limit=5)
```

**search(query, memory_types=None, limit=10) â†’ dict**
```python
# Search across all memories
results = memory.search("machine learning", limit=5)

# Search specific memories
results = memory.search("facts", memory_types=["long_term", "semantic"])
```

**delete(memory_type, key) â†’ bool**
```python
deleted = memory.delete("short_term", "msg_1")
```

**clear(memory_type) â†’ None**
```python
memory.clear("short_term")  # Clear short-term memory
memory.clear_all()          # Clear all memories
```

#### Statistics & Lists

**count(memory_type=None) â†’ int|dict**
```python
# Count specific memory type
count = memory.count("short_term")  # Returns: 42

# Count all
counts = memory.count()  # Returns: {"short_term": 42, "long_term": 100, ...}
```

**list_all(memory_type=None) â†’ list|dict**
```python
# List keys in memory type
keys = memory.list_all("short_term")

# List all keys
all_keys = memory.list_all()
```

**export_json(memory_type=None) â†’ str**
```python
# Export specific memory
json_data = memory.export_json("short_term")

# Export all
all_data = memory.export_json()
```

## Usage Examples

### Example 1: Chatbot with Memory

```python
from ai_memory import MemoryManager

class ChatBot:
    def __init__(self):
        self.memory = MemoryManager()
    
    def chat(self, user_input):
        # Get recent context
        context = self.memory.get_recent("short_term", limit=5)
        
        # Generate response (use your AI model)
        response = self.generate_response(user_input, context)
        
        # Store in memory
        self.memory.store("short_term", {
            "role": "user",
            "content": user_input
        })
        
        self.memory.store("short_term", {
            "role": "assistant",
            "content": response
        })
        
        return response
    
    def learn_fact(self, fact):
        # Store as long-term knowledge
        self.memory.store("long_term", {
            "title": fact["title"],
            "content": fact["content"],
            "category": "learned"
        })
```

### Example 2: Context Window Management

```python
# Store conversation
for message in messages:
    memory.store("short_term", message)

# Get context for model (only recent messages)
context_window = memory.get_recent("short_term", limit=10)

# Build prompt with context
prompt = build_prompt(context_window)
```

### Example 3: Knowledge Base

```python
# Build knowledge base
knowledge_items = [
    {"title": "ML Basics", "content": "...", "tags": ["AI", "learning"]},
    {"title": "Deep Learning", "content": "...", "tags": ["AI", "neural"]},
]

for item in knowledge_items:
    memory.store("semantic", item)

# Search knowledge base
relevant_knowledge = memory.search("neural networks")
```

### Example 4: Event Tracking

```python
# Track user interactions
memory.store("episodic", {
    "event": "User asked about Python",
    "category": "question",
    "resolved": True
})

# Analyze patterns
all_events = memory.query("episodic", category="question")
print(f"Total questions asked: {len(all_events)}")
```

## Context Manager Usage

Use memory manager as a context manager for automatic cleanup:

```python
with MemoryManager(db_path="./memory.db") as memory:
    memory.store("short_term", {"content": "Hello"})
    recent = memory.get_recent("short_term")
# Connection automatically closed
```

## Data Formats

### Short-Term Memory
```json
{
    "role": "user|assistant",
    "content": "message text",
    "timestamp": "2025-11-24T10:30:00"
}
```

### Long-Term Memory
```json
{
    "title": "Title",
    "content": "Full content",
    "category": "category_name",
    "timestamp": "2025-11-24T10:30:00"
}
```

### Episodic Memory
```json
{
    "event": "Description of event",
    "duration": "time duration",
    "outcome": "result/outcome",
    "timestamp": "2025-11-24T10:30:00"
}
```

### Semantic Memory
```json
{
    "title": "Knowledge title",
    "content": "Knowledge content",
    "tags": ["tag1", "tag2"],
    "timestamp": "2025-11-24T10:30:00"
}
```

## Advanced Usage

### Custom Filters

```python
# Multiple filters
results = memory.query(
    "long_term",
    search_query="Python",
    category="programming"
)
```

### Export and Backup

```python
# Export all memories
all_data = memory.export_json()

# Save to file
with open("memory_backup.json", "w") as f:
    f.write(all_data)
```

### Memory Statistics

```python
# Get all statistics
stats = {
    "short_term": memory.count("short_term"),
    "long_term": memory.count("long_term"),
    "episodic": memory.count("episodic"),
    "semantic": memory.count("semantic"),
}

print(f"Total items: {sum(stats.values())}")
```

## Performance Tips

1. **Limit Query Results**: Use `limit` parameter to reduce memory usage
2. **Clear Regularly**: Periodically clear short-term memory
3. **Batch Operations**: Store multiple items in a loop for efficiency
4. **Use Filters**: Filter at query time rather than post-processing

## Troubleshooting

### Database Locked Error
```python
# Close connections properly
memory.close()

# Or use context manager
with MemoryManager() as memory:
    # Work with memory
    pass
```

### Large Database Size
```python
# Clear old short-term memory periodically
memory.clear("short_term")

# Keep only recent items
all_items = memory.list_all("short_term")
if len(all_items) > 1000:
    memory.clear("short_term")
```

## Testing

Run tests with pytest:
```bash
pip install pytest
pytest tests/
```

Run specific tests:
```bash
pytest tests/test_memory.py::TestMemoryManager::test_store_and_retrieve_short_term -v
```

## Project Structure

```
ai-memory/
â”œâ”€â”€ ai_memory/
â”‚   â”œâ”€â”€ __init__.py                 # Main exports
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ memory_base.py          # Abstract base classes
â”‚   â”‚   â”œâ”€â”€ memory_manager.py       # Main interface
â”‚   â”‚   â””â”€â”€ retrieval.py            # Search utilities
â”‚   â”œâ”€â”€ memory_types/
â”‚   â”‚   â”œâ”€â”€ short_term.py           # Short-term memory
â”‚   â”‚   â”œâ”€â”€ long_term.py            # Long-term, episodic, semantic
â”‚   â”‚   â”œâ”€â”€ episodic.py
â”‚   â”‚   â””â”€â”€ semantic.py
â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â””â”€â”€ sqlite_backend.py       # SQLite storage
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ serialization.py        # Data serialization
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_memory.py              # Unit tests
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ basic_usage.py              # Usage examples
â”œâ”€â”€ setup.py                        # Package setup
â””â”€â”€ README.md                       # This file
```

## Contributing

Contributions are welcome! Please:

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests
5. Submit a pull request

## Roadmap

- [ ] Vector/embedding memory support
- [ ] JSON file backend
- [ ] Redis backend
- [ ] MongoDB backend
- [ ] CLI tools
- [ ] Web UI for memory management
- [ ] Auto-compression for old data

## License

MIT License - see LICENSE file for details

## Support

- ğŸ“š Documentation: [Full API Reference](#api-reference)
- ğŸ› Issues: Report on GitHub
- ğŸ’¬ Discussions: GitHub Discussions
- ğŸ“§ Email: support@example.com

## Changelog

### v0.1.0 (2025-11-24)
- Initial release
- Short-term, long-term, episodic, semantic memory
- SQLite backend
- Basic search and filtering
- JSON export

## Credits

Created with â¤ï¸ for the AI community

---

**Happy Memory Management! ğŸ§ âœ¨**
